"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{12767:function(Ie,k,t){t.r(k),t.d(k,{default:function(){return Be}});var Y=t(15009),j=t.n(Y),Q=t(97857),D=t.n(Q),X=t(99289),b=t.n(X),$=t(5574),W=t.n($),J=t(66116),q=t(87547),s=t(1413),P=t(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},ee=_,te=t(84089),w=function(n,a){return P.createElement(te.Z,(0,s.Z)((0,s.Z)({},n),{},{ref:a,icon:ee}))};w.displayName="LockOutlined";var ne=P.forwardRef(w),T=t(91),e=t(85893),ae=t(73964),re=t(76519),se=t(94184),oe=t.n(se),ie=t(97269),A=t(4942),le=t(98082),de=function(n){var a;return a={},(0,A.Z)(a,n.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:0,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:n.colorTextSecondary,fontSize:n.fontSize},"&-main":{minWidth:"328px",maxWidth:"500px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),(0,A.Z)(a,"@media (min-width: @screen-md-min)",(0,A.Z)({},"".concat(n.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),a};function ue(r){return(0,le.Xj)("LoginForm",function(n){var a=(0,s.Z)((0,s.Z)({},n),{},{componentCls:".".concat(r)});return[de(a)]})}var ce=["logo","message","contentStyle","title","subTitle","actions","children"];function ge(r){var n,a=r.logo,l=r.message,m=r.contentStyle,y=r.title,p=r.subTitle,F=r.actions,R=r.children,d=(0,T.Z)(r,ce),S=(0,ae.YB)(),U=d.submitter===!1?!1:(0,s.Z)((0,s.Z)({searchConfig:{submitText:S.getMessage("loginForm.submitText","\u767B\u5F55")}},d.submitter),{},{submitButtonProps:(0,s.Z)({size:"large",style:{width:"100%"}},(n=d.submitter)===null||n===void 0?void 0:n.submitButtonProps),render:function(u,v){var g,Z=v.pop();if(typeof(d==null||(g=d.submitter)===null||g===void 0?void 0:g.render)=="function"){var C,o;return d==null||(C=d.submitter)===null||C===void 0||(o=C.render)===null||o===void 0?void 0:o.call(C,u,v)}return Z}}),h=(0,P.useContext)(re.ZP.ConfigContext),I=h.getPrefixCls("pro-form-login"),N=ue(I),O=N.wrapSSR,L=N.hashId,i=function(u){return"".concat(I,"-").concat(u," ").concat(L)},c=(0,P.useMemo)(function(){return a?typeof a=="string"?(0,e.jsx)("img",{src:a}):a:null},[a]);return O((0,e.jsxs)("div",{className:oe()(i("container"),L),children:[(0,e.jsxs)("div",{className:"".concat(i("top")," ").concat(L),children:[y||c?(0,e.jsxs)("div",{className:"".concat(i("header")),children:[c?(0,e.jsx)("span",{className:i("logo"),children:c}):null,y?(0,e.jsx)("span",{className:i("title"),children:y}):null]}):null,p?(0,e.jsx)("div",{className:i("desc"),children:p}):null]}),(0,e.jsxs)("div",{className:i("main"),style:(0,s.Z)({width:328},m),children:[(0,e.jsxs)(ie.A,(0,s.Z)((0,s.Z)({isKeyPressSubmit:!0},d),{},{submitter:U,children:[l,R]})),F?(0,e.jsx)("div",{className:i("main-other"),children:F}):null]})]}))}var B=t(72367),ve=["fieldProps","proFieldProps"],me=["fieldProps","proFieldProps"],z="text",fe=function(n){var a=n.fieldProps,l=n.proFieldProps,m=(0,T.Z)(n,ve);return(0,e.jsx)(B.Z,(0,s.Z)({valueType:z,fieldProps:a,filedConfig:{valueType:z},proFieldProps:l},m))},pe=function(n){var a=n.fieldProps,l=n.proFieldProps,m=(0,T.Z)(n,me);return(0,e.jsx)(B.Z,(0,s.Z)({valueType:"password",fieldProps:a,proFieldProps:l,filedConfig:{valueType:z}},m))},E=fe;E.Password=pe,E.displayName="ProFormComponent";var G=E,H=t(22270),he=t(32808),xe=t(90789),Pe=["options","fieldProps","proFieldProps","valueEnum"],ye=P.forwardRef(function(r,n){var a=r.options,l=r.fieldProps,m=r.proFieldProps,y=r.valueEnum,p=(0,T.Z)(r,Pe);return(0,e.jsx)(B.Z,(0,s.Z)({ref:n,valueType:"checkbox",valueEnum:(0,H.h)(y,void 0),fieldProps:(0,s.Z)({options:a},l),lightProps:(0,s.Z)({labelFormatter:function(){return(0,e.jsx)(B.Z,(0,s.Z)({ref:n,valueType:"checkbox",mode:"read",valueEnum:(0,H.h)(y,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:a},l),proFieldProps:m},p))}},p.lightProps),proFieldProps:m},p))}),je=P.forwardRef(function(r,n){var a=r.fieldProps,l=r.children;return(0,e.jsx)(he.Z,(0,s.Z)((0,s.Z)({ref:n},a),{},{children:l}))}),Fe=(0,xe.G)(je,{valuePropName:"checked"}),V=Fe;V.Group=ye;var Se=V,f=t(90905),Ze=t(14670),K=t(12461),Me=t(90575),Le=t(73935),M={container:"container___REQAy",lang:"lang___DAjLY",content:"content___IkUx1",icon:"icon___fqAhh"},Ce=function(n){var a=n.content;return(0,e.jsx)(Ze.Z,{style:{marginBottom:24},message:a,type:"error",showIcon:!0})},Te=function(){var n=(0,P.useState)({}),a=W()(n,2),l=a[0],m=a[1],y=(0,P.useState)("account"),p=W()(y,2),F=p[0],R=p[1],d=(0,f.useModel)("@@initialState"),S=d.initialState,U=d.setInitialState,h=(0,f.useIntl)(),I=function(){var i=b()(j()().mark(function c(){var x,u;return j()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,S==null||(x=S.fetchUserInfo)===null||x===void 0?void 0:x.call(S);case 2:u=g.sent,u&&(0,Le.flushSync)(function(){U(function(Z){return D()(D()({},Z),{},{currentUser:u})})});case 4:case"end":return g.stop()}},c)}));return function(){return i.apply(this,arguments)}}(),N=function(){var i=b()(j()().mark(function c(x){var u,v,g,Z;return j()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,u={code:"200",data:{username:"admin",password:"tangpingbujuan666",type:"account",currentAuthority:"admin"}},u.code!=="200"){o.next=10;break}return v=h.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),K.ZP.success(v),o.next=7,I();case 7:return g=new URL(window.location.href).searchParams,f.history.push(g.get("redirect")||"/"),o.abrupt("return");case 10:console.log(u),m(u),o.next=19;break;case 14:o.prev=14,o.t0=o.catch(0),Z=h.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(o.t0),K.ZP.error(Z);case 19:case"end":return o.stop()}},c,null,[[0,14]])}));return function(x){return i.apply(this,arguments)}}(),O=l.status,L=l.type;return(0,e.jsxs)("div",{className:M.container,children:[(0,e.jsx)("div",{className:M.lang,"data-lang":!0,children:f.SelectLang&&(0,e.jsx)(f.SelectLang,{})}),(0,e.jsx)("div",{className:M.content,children:(0,e.jsxs)(ge,{logo:(0,e.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Rebate",subTitle:h.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var i=b()(j()().mark(function c(x){return j()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,N(x);case 2:case"end":return v.stop()}},c)}));return function(c){return i.apply(this,arguments)}}(),children:[(0,e.jsx)(Me.Z,{activeKey:F,onChange:R,centered:!0,items:[{key:"account",label:h.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})}]}),O==="error"&&L==="account"&&(0,e.jsx)(Ce,{content:h.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),F==="account"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G,{name:"username",fieldProps:{size:"large",prefix:(0,e.jsx)(q.Z,{className:M.prefixIcon})},placeholder:h.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,e.jsx)(f.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,e.jsx)(G.Password,{name:"password",fieldProps:{size:"large",prefix:(0,e.jsx)(ne,{className:M.prefixIcon})},placeholder:h.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,e.jsx)(f.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(Se,{noStyle:!0,name:"autoLogin",children:(0,e.jsx)(f.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,e.jsx)("a",{style:{float:"right"},children:(0,e.jsx)(f.FormattedMessage,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,e.jsx)(J.Z,{})]})},Be=Te}}]);
